<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Календар</title>
    <style>
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: center;
        }
        .selectDay{
            background-color: aqua;
        }

    </style>
</head>
<body>
    <h2>Календар</h2>
    <div id="calendar"></div>

    <script>
        function createCalendar(year, month, day) {
            const monthNames = ["Січень", "Лютий", "Березень", "Квітень", "Травень", "Червень","Липень", "Серпень", "Вересень", "Жовтень", "Листопад", "Грудень"];
            // Создаем объект текущей даты
            const currentDate = new Date(year, month - 1);
            // получаем полк-во дней в месяце. ставим 0, нас перекидывает на прошлый месяц, на день назад, т.е. на последнюю дату месяца.             
            const daysInMonth = new Date(year, month, 0).getDate();
            // Получаем первый день недели, текущего месяца. 0-вс/1-пн/2-вт..
            let firstDayOfMonth = new Date(year, month - 1, 1).getDay();
            // если у нас выпадает на 0 - воскресенье, тогда переносим этот день на 7 - понедельник. Для смещения табилцы.           
            if (firstDayOfMonth === 0) {
                firstDayOfMonth = 7;
            }

            // HTML разметка. Начало...
            // для заголовка указываем месяц и год
            let calendarHTML = `<h3>${monthNames[month - 1]} ${year}</h3>`;
            // Создаем таблицу для нашего календаря
            calendarHTML += "<table>";
            // шапка таблицы с названиями дней недели
            calendarHTML += "<tr><th>Пн</th><th>Вт</th><th>Ср</th><th>Чт</th><th>Пт</th><th>Сб</th><th>Нд</th></tr>"; 
            // начало первой строки в таблице (с датой)
            calendarHTML += "<tr>";

            // Создаем пустые ячейки в календаре для дней, которые предшествуют первому дню указанного месяца.
            for (let i = 1; i < firstDayOfMonth; i++) {
                calendarHTML += "<td></td>";
            }

            // заполнение дней месяца в ячейках
            for (let _day = 1; _day <= daysInMonth; _day++) {
                // ячейка с текущим днем недели
                calendarHTML += _day === day
                    ? `<td class="selectDay">${_day}</td>`
                    : `<td>${_day}</td>`;
                // если если достигнуто воскресенья, тогда переход на новую строку
                // -1 используется для смещения дня недели
                if ((firstDayOfMonth + _day - 1) % 7 === 0) {
                    calendarHTML += "</tr><tr>";
                }
            }

            // Заолняем осташиеся дни недели пробелами
            // смотрим какой день недели
            const lastDayOfMonth = new Date(year, month - 1, daysInMonth).getDay();
            // если это воскресенье, тогда 
            if (lastDayOfMonth !== 0) {
                for (let i = lastDayOfMonth + 1; i <= 7; i++) {
                    calendarHTML += "<td></td>"; // Порожня комірка
                }
            }

            // закрываем строку
            calendarHTML += "</tr>";
            // закрываем таблицу
            calendarHTML += "</table>";

            return calendarHTML;
        }

        
        const currentDate = new Date();
        const currentYear = currentDate.getFullYear();
        const currentMonth = currentDate.getMonth() + 1;
        const SelectDate = 20;

        document.getElementById("calendar").innerHTML = createCalendar(currentYear, currentMonth, SelectDate);
    </script>
</body>
</html>
